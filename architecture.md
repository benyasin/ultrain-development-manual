## 一、R-POS共识机制

商业应用必须在安全性、去中心化和可扩展性三角中寻找平衡而不是片面强调某一个角，为此
Ultrain选择了类似algorand的VRF+PoS+BFT的共识算法，称为随机可信共识框架（R-PoS）。

R-PoS是一种有多项优化创新的混合共识算法。Ultrain通过吸收改良VRF随机算法，做出大规模
节点的委员会成员选举，并借鉴了PoS的Stake机制来增强整个共识算法的安全性和稳定性，同时
结合了BFT具备快速最终确定特性的共识算法，针对BFT进行了大量工程上的优化，最终研发出R-PoS共识机制。

R-PoS可以在充分满足安全性和去中心化要求的前提下最高达到10000tps的性能，目前在测试环境
下实测达到3000tps，还在继续优化中，出块和确认时间都是10秒。
  
在BFT算法的选择上，Ultrain没有采用algorand的BA*算法，也没有采用古老的PBFT，而是选用了更加
高效、可靠的leaderless BFT算法。Leaderless BFT能够保证更好的网络公平性和网络活性，不会因
为一个proposer作恶或者被攻击导致的网络停止服务。

![R—POS共识机制](https://user-images.githubusercontent.com/44561751/59584059-a1681280-910f-11e9-9ef4-4cb5cfff8b42.png)

## 二、主侧链随机调度技术

企业客户通过使用信任计算服务，可以大幅降低其商业环境中的信任成本，重构其原有的商业模式，实现收入的
高速增长。从全球范围来看，Ultrain是唯一一个可以为企业客户提供一站式区块链商业服务的公链，是唯一一
个同时解决了高TPS、高成本和数据安全问题的公链。

![随机调度技术1](https://user-images.githubusercontent.com/44561751/59584120-ceb4c080-910f-11e9-8791-804528fa5b03.png)
![随机调度技术2](https://user-images.githubusercontent.com/44561751/59584148-e0966380-910f-11e9-9530-5ba9888ea0f5.png)

## 三、多赢的经济激励模型

Ultrain的经济激励模型与传统的公链截然不同，矿工挖矿获得的UGAS奖励来源于商业应用付费而非仅仅是区块奖励，
因此UGAS具有内在价值。我们来看看具体是怎么分配的：

![价值分配](https://user-images.githubusercontent.com/44561751/59239733-24cbc480-8c35-11e9-9b3d-6e081859760b.png)

首先，需要在ULTRAIN上创建专属侧链或加入共享侧链来运行商业应用的企业需要购买一定数量的UGAS并抵押到
ULTRAIN主链的智能合约中，具体数量与所需算力成正比，与UGAS价格成反比，这样可以避免UGAS价格的波动对
企业成本造成影响。待主链完成矿机算力调度后，企业就可以使用算力服务了。

然后，这些被抵押的UGAS将按10秒一次的出块速度，分配给该次的出块节点，每次分配1.25UGAS，其中80%即
1UGAS分配给出块矿工，另外20%即0.25UGAS由系统智能合约进行后续分配，包括对技术团队、社区领袖和优秀
DAPP的奖励。

对于主链矿工，收入来源于创建账户、注册矿工、UGAS转账、注册侧链、注册第三方服务、侧链矿机调度等一系列
主链功能所收取的手续费，这些手续费每隔24小时按矿机的在主链时长值进行分配。

综上所述，我们可以看出ULTRAIN经济激励模型的特色，强烈依赖于商业应用拓展，如果有大量的企业注册使用侧链
，可以创造大量的UGAS购买需求，并缓慢释放分配给利益相关者，这样无论是UGAS持有者、矿工、社区领袖还是
DAPP开发者都可以从中获益，企业也可以低成本地应用区块链技术，这是一个多赢的博弈。

